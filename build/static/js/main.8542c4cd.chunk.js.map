{"version":3,"sources":["firebase.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","useState","tareas","setTareas","tarea","setTarea","modoEdicion","setModoEdicion","idTarea","setIdTarea","tareaEditada","setTareaEditada","useEffect","a","db","firestore","collection","get","data","arrayData","docs","map","doc","id","console","log","obtenerDatos","agregar","e","preventDefault","trim","nuevaTarea","name","fecha","Date","now","add","eliminar","delete","arrayFiltrado","filter","item","guardarTarea","update","className","type","onChange","editarTarea","target","value","placeholder","onClick","editar","onSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8542c4cd.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBtUTaZP6s5TYHEv9M6OVaVBrTg2Pl7YcI\",\r\n  authDomain: \"udemy-firebase-3c134.firebaseapp.com\",\r\n  projectId: \"udemy-firebase-3c134\",\r\n  storageBucket: \"udemy-firebase-3c134.appspot.com\",\r\n  messagingSenderId: \"945673753158\",\r\n  appId: \"1:945673753158:web:e5795579edb03476c3b047\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport { firebase };\r\n","import React, { useEffect, useState } from \"react\";\nimport { firebase } from \"./firebase\";\n\nfunction App() {\n  const initialState = \"\";\n  const [tareas, setTareas] = useState([]);\n  const [tarea, setTarea] = useState(initialState);\n  const [modoEdicion, setModoEdicion] = useState(false);\n  const [idTarea, setIdTarea] = useState(initialState);\n  const [tareaEditada, setTareaEditada] = useState(initialState);\n\n  useEffect(() => {\n    const obtenerDatos = async () => {\n      try {\n        const db = firebase.firestore();\n        const data = await db.collection(\"tareas\").get();\n        // console.log(data.docs)\n        const arrayData = data.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setTareas(arrayData);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    obtenerDatos();\n  }, []);\n\n  const agregar = async (e) => {\n    e.preventDefault();\n\n    if (!tarea.trim()) {\n      console.log(\"vacio\");\n      return;\n    }\n\n    try {\n      const db = firebase.firestore();\n      const nuevaTarea = {\n        name: tarea,\n        fecha: Date.now(),\n      };\n      const data = await db.collection(\"tareas\").add(nuevaTarea);\n      setTareas([...tareas, { ...nuevaTarea, id: data.id }]);\n      setTarea(\"\");\n    } catch (error) {\n      console.log(error);\n    }\n\n    console.log(tarea);\n  };\n\n  const eliminar = async (id) => {\n    try {\n      const db = firebase.firestore();\n      await db.collection(\"tareas\").doc(id).delete();\n\n      const arrayFiltrado = tareas.filter((item) => item.id !== id);\n      setTareas(arrayFiltrado);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const editar = (id) => {\n    setModoEdicion(true);\n    setIdTarea(id);\n    console.log(\"modo ediccion\");\n  };\n\n  const editarTarea = (e) => {\n    setTareaEditada(e);\n  };\n\n  const guardarTarea = async () => {\n    if (!tareaEditada.trim()) {\n      setModoEdicion(false);\n      return;\n    }\n\n    try {\n      const db = firebase.firestore();\n      await db.collection(\"tareas\").doc(idTarea).update({\n        name: tareaEditada,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n    console.log(\"guardar tarea\");\n    const arrayFiltrado = tareas.map((item) =>\n      item.id === idTarea\n        ? { id: item.id, fecha: item.fecha, name: tareaEditada }\n        : item\n    );\n    setTareas(arrayFiltrado);\n    setModoEdicion(false);\n    setIdTarea(initialState);\n    setTareaEditada(initialState);\n  };\n  return (\n    <div className=\"container mt-3\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <h3>Lista tareas</h3>\n          <ul className=\"list-group\">\n            {tareas.map((item) => (\n              <li className=\"list-group-item\" key={item.id}>\n                {modoEdicion && item.id === idTarea ? (\n                  <input\n                    type=\"text\"\n                    onChange={(e) => editarTarea(e.target.value)}\n                    placeholder={item.name}\n                    value={tareaEditada}\n                  />\n                ) : (\n                  item.name\n                )}\n                <button\n                  className=\"btn btn-danger btn-sm float-right\"\n                  onClick={() => eliminar(item.id)}\n                >\n                  Eliminar\n                </button>\n                {modoEdicion && item.id === idTarea ? (\n                  <button\n                    className=\"btn btn-success mx-2 btn-sm float-right\"\n                    onClick={() => guardarTarea()}\n                  >\n                    Guardar\n                  </button>\n                ) : (\n                  <button\n                    className=\"btn btn-warning mx-2 btn-sm float-right\"\n                    onClick={(id) => editar(item.id)}\n                  >\n                    Editar\n                  </button>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <h3>Agregar Tarea</h3>\n          <form onSubmit={agregar}>\n            <input\n              type=\"text\"\n              placeholder=\"Ingrese tarea\"\n              className=\"form-control mb-2\"\n              onChange={(e) => setTarea(e.target.value)}\n              value={tarea}\n            />\n            <button className=\"btn btn-dark btn-block\" type=\"submit\">\n              Agregar Tarea\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}